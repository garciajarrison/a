<!DOCTYPE html>
<ui:composition template="../common/template.xhtml"
   xmlns="http://www.w3c.org/1999/xhtml"
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:p="http://primefaces.org/ui"
   xmlns:ui="http://java.sun.com/jsf/facelets">

	<ui:define name="content">
	
	<h1>#{msg['tabla.lista']}</h1>
	<br /><br /><br />
	<p:commandButton value="#{msg['btn.agregar']}" type="button" onclick="PF('dlgAgregar').show();" />
		
		<p:dataTable var="tables" value="#{tablaBB.entityList}" emptyMessage="#{msg['no.registros']}">
		 
		    <p:column headerText="#{msg['tabla.tipo']}" sortBy="#{tables.minimo}">
		        <h:outputText value="#{tables.tipo}" />
		    </p:column>		 
		    <p:column headerText="#{msg['tabla.nombre']}" sortBy="#{tables.nombre}" filterBy="#{tables.nombre}" filterMatchMode="contains">
		        <h:outputText value="#{tables.nombre}" />
		    </p:column>
		 
		    <p:column headerText="#{msg['tabla.conversion']}" sortBy="#{tables.conversion}" filterBy="#{tables.conversion}" filterMatchMode="contains">
		        <h:outputText value="#{tables.conversion}" />
		    </p:column>
		    <p:column headerText="#{msg['tabla.base']}" sortBy="#{tables.base}" filterBy="#{tables.base}" filterMatchMode="contains">
		        <h:outputText value="#{tables.base}" />
		    </p:column>
		    <p:column headerText="#{msg['tabla.gasto']}" sortBy="#{tables.gasto}" filterBy="#{tables.gasto}" filterMatchMode="contains">
		        <h:outputText value="#{tables.gasto}" />
		    </p:column>		 
		    <p:column headerText="#{msg['tabla.estado']}" sortBy="#{tables.estado}">
		        <h:outputText value="#{tables.estado}" />
		    </p:column>
		 
		    <p:column headerText="#{msg['tabla.uom']}" sortBy="#{tables.uom}" filterBy="#{tables.uom}" filterMatchMode="contains">
		        <h:outputText value="#{tables.uom}" />
		    </p:column>
		 
		    <p:column headerText="#{msg['tabla.uomalt']}" sortBy="#{tables.uomAlt}" filterBy="#{tables.uomAlt}" filterMatchMode="contains">
		        <h:outputText value="#{tables.uomAlt}" />
		    </p:column>
		    <p:column headerText="#{msg['tabla.dias.trabajados']}" sortBy="#{tables.diasDeTrabajo}" filterBy="#{tables.diasDeTrabajo}" filterMatchMode="contains">
		        <h:outputText value="#{tables.diasDeTrabajo}" />
		    </p:column>		 
		    <p:column headerText="#{msg['tabla.minimo']}" sortBy="#{tables.minimo}" filterBy="#{tables.minimo}" filterMatchMode="contains">
		        <h:outputText value="#{tables.minimo}" />
		    </p:column>
		    
		    <p:column headerText="#{msg['acciones']}">
		    	<center>
			       <!-- p:commandButton id="btnActualizar" value="#{msg['btn.actualizar']}" type="button" >
			       		<p:ajax event="click" listener="#{tablaBB.setSelectedTablas(tables)}" 
			       				update=":#{p:component('dlgActualizar')}" oncomplete="PF('dlgActualizar').show();"/>
			       </p:commandButton>
			       <p:commandButton id="btnAddDetalle" value="#{msg['btn.agregar.detalle']}" type="button" >
			       		<p:ajax event="click" listener="#{tablaBB.setSelectedTablas(tables)}" 
			       				update=":#{p:component('dlgDetalle')}" oncomplete="PF('dlgDetalle').show();"/>
			       </p:commandButton -->
			       <p:commandButton id="btnEliminar" value="#{msg['btn.borrar']}" type="button">
						<p:ajax event="click" listener="#{tablaBB.setSelectedTablas(tables)}"
								update=":#{p:component('dlgEliminar')}" oncomplete="PF('dlgEliminar').show();"/>
					</p:commandButton>
				</center>
		    </p:column>
		    
		</p:dataTable>
		
		<p:dialog header="#{msg['tabla.agregar']}" id="dlgAgregar" 
				widgetVar="dlgAgregar" minHeight="40">
			<div align="center">
				<h:panelGrid columns="2" cellspacing="2" cellpadding="2">
				
					<h:outputLabel value="#{msg['tabla.tipo']}:" for="txtTipo"/>
			   		<p:selectOneMenu id="txtTipo" value="#{tablaBB.tablas.tipo}" title="#{msg['tabla.tipo']}" 
			   			label="#{msg['tabla.tipo']}" required="true" >
			   			<f:selectItem itemLabel="#{msg['seleccione']}" itemValue="" />
			   			<f:selectItems value="#{tablaBB.listasGenericas.listaTipoPropiedad}"  />
			   		</p:selectOneMenu>
			   		
			   		<h:outputLabel value="#{msg['tabla.nombre']}:" for="txtNombre"/>
			   		<p:inputText id="txtNombre" value="#{tablaBB.tablas.nombre}" 
			   			title="#{msg['tabla.nombre']}" maxlength="100"
			   			label="#{msg['tabla.nombre']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.conversion']}:" for="txtConversion"/>
			   		<p:inputNumber id="txtConversion" value="#{tablaBB.tablas.conversion}" 
			   			title="#{msg['tabla.conversion']}" minValue="0"
			   			label="#{msg['tabla.conversion']}" required="true" />	
			   			
			   		<h:outputLabel value="#{msg['tabla.base']}:" for="txtBase"/>
			   		<p:inputNumber id="txtBase" value="#{tablaBB.tablas.base}" 
			   			title="#{msg['tabla.base']}" minValue="0"
			   			label="#{msg['tabla.base']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.gasto']}:" for="txtgasto"/>
			   		<p:inputNumber id="txtgasto" value="#{tablaBB.tablas.gastos}" 
			   			title="#{msg['tabla.gasto']}" minValue="0"
			   			label="#{msg['tabla.gasto']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.estado']}:" for="selEstado"/>
			   		<p:selectOneMenu id="selEstado" value="#{tablaBB.tablas.estado}" title="#{msg['tabla.estado']}" 
			   			label="#{msg['tabla.estado']}" required="true" >
			   			<f:selectItem itemLabel="#{msg['seleccione']}" itemValue="" />
			   			<f:selectItems value="#{tablaBB.listasGenericas.listaEstados}"  />
			   		</p:selectOneMenu>
			   		
			   		<h:outputLabel value="#{msg['tabla.uom']}:" for="txtuom"/>
			   		<p:inputText id="txtuom" value="#{tablaBB.tablas.uom}" 
			   			title="#{msg['tabla.uom']}" maxlength="10"
			   			label="#{msg['tabla.uom']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.uomalt']}:" for="txtuomalt"/>
			   		<p:inputText id="txtuomalt" value="#{tablaBB.tablas.uomAlt}" 
			   			title="#{msg['tabla.uomalt']}" maxlength="10"
			   			label="#{msg['tabla.uomalt']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.dias.trabajados']}:" for="txtdiasDeTrabajo"/>
			   		<p:inputNumber id="txtdiasDeTrabajo" value="#{tablaBB.tablas.diasDeTrabajo}" 
			   			title="#{msg['tabla.dias.trabajados']}" minValue="0"
			   			label="#{msg['tabla.dias.trabajados']}" required="true" />
			   			
			   		<h:outputLabel value="#{msg['tabla.minimo']}:" for="txtminimo"/>
			   		<p:inputNumber id="txtminimo" value="#{tablaBB.tablas.minimo}" 
			   			title="#{msg['tabla.minimo']}" minValue="0"
			   			label="#{msg['tabla.minimo']}" required="true" />		
			   		
			   	</h:panelGrid>
			   	<br /><br />
		   		<p:commandButton value="#{msg['btn.agregar']}" >
		   				<p:ajax process="dlgAgregar" listener="#{tablaBB.addEntity}"/>
		   		</p:commandButton>
	   		</div>
		</p:dialog>	
		
		<p:dialog header="#{msg['tabla.eliminar']}" id="dlgEliminar" widgetVar="dlgEliminar" minHeight="40">
			<div align="center">
				
				<strong>#{msg['confirmarcion.borrar']}</strong>
			
				<br /><br />
		   		<p:commandButton value="#{msg['btn.borrar']}" type="button">
					<p:ajax event="click" listener="#{tablaBB.deleteEntity}" 
							update="formulario"/>   		
		   		</p:commandButton>
	   		</div>
		</p:dialog>	
		
   </ui:define>
</ui:composition>